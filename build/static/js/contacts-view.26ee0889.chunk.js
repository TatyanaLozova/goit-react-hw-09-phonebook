(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{90:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(38);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,c=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{a||null==s.return||s.return()}finally{if(c)throw r}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},92:function(t,e,n){t.exports={form:"ContactForm_form__1hOHS",input:"ContactForm_input__1SraT",btnAdd:"ContactForm_btnAdd__2ay3B",label:"ContactForm_label__1JpaI"}},95:function(t,e,n){t.exports={contact:"ContactList_contact__12lvQ",btn:"ContactList_btn__sKpfF",laoding:"ContactList_laoding__2f2nc"}},98:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(90),r=n(8),o=n(17),s=n.n(o),u=n(25),i=n(20),l=n.n(i),b=n(10),j={fetchContacts:function(){return function(){var t=Object(u.a)(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(b.h)()),t.prev=1,t.next=4,l.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(b.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(b.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContacts:function(t){return function(){var e=Object(u.a)(s.a.mark((function e(n){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(b.b)()),e.prev=1,e.next=4,l.a.post("/contacts",t);case 4:a=e.sent,c=a.data,n(Object(b.c)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(b.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},deleteContacts:function(t){return function(){var e=Object(u.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(b.e)()),e.prev=1,e.next=4,l.a.delete("/contacts/".concat(t));case 4:n(Object(b.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(b.d)(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},f=n(26),d=function(t){return t.contacts.items},p=function(t){return t.contacts.filter},m={getLoading:function(t){return t.contacts.loading},getAllContacts:d,getFilter:p,getVisibleContacts:Object(f.a)([d,p],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},O=(n(39),n(92)),h=n.n(O),v=n(1);function x(){var t=Object(r.b)(),e=Object(a.useState)(""),n=Object(c.a)(e,2),o=n[0],s=n[1],u=Object(a.useState)(""),i=Object(c.a)(u,2),l=i[0],b=i[1],f=Object(r.c)(m.getAllContacts),d=Object(a.useCallback)((function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":s(a);break;case"number":b(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(n," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}}),[]),p=Object(a.useCallback)((function(e){e.preventDefault(),f.find((function(t){return t.name.toLowerCase()===o.toLowerCase()}))?alert("".concat(o," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0432\u0430\u0448\u0438\u0445 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432")):(t(j.addContact({name:o,number:l})),O())}),[f,t,o,l]),O=function(){s(""),b("")};return Object(v.jsxs)("form",{className:h.a.form,onSubmit:p,children:[Object(v.jsxs)("label",{className:h.a.label,children:["Name",Object(v.jsx)("input",{className:h.a.input,type:"text",name:"name",value:o,onChange:d,placeholder:"Name"})]}),Object(v.jsxs)("label",{className:h.a.label,children:["Number",Object(v.jsx)("input",{className:h.a.input,type:"text",name:"number",value:l,onChange:d,placeholder:"000-00-00"})]}),Object(v.jsx)("button",{className:h.a.btnAdd,type:"submit",children:"Add contact"})]})}var g=n(95),C=n.n(g);function y(){var t=Object(r.b)(),e=Object(r.c)(m.getVisibleContacts),n=Object(r.c)(m.getLoading);Object(a.useEffect)((function(){t(j.fetchContacts())}),[t]);return Object(v.jsxs)(v.Fragment,{children:[n&&Object(v.jsx)("h1",{className:C.a.laoding,children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c...."}),Object(v.jsx)("ul",{children:e.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(v.jsxs)("li",{className:C.a.contact,children:[Object(v.jsxs)("p",{children:[a,": "]}),Object(v.jsx)("p",{children:c}),Object(v.jsx)("button",{className:C.a.btn,type:"button",onClick:function(){return function(e){t(j.deleteContacts(e),[])}(n)},children:"Delete"})]},n)}))})]})}function _(){var t=Object(r.b)(),e=Object(r.c)(m.getFilter),n=Object(a.useCallback)((function(e){return t(Object(b.j)(e.target.value))}));return Object(v.jsxs)("label",{className:h.a.label,children:["Search for contacts by name",Object(v.jsx)("input",{className:h.a.input,type:"text",value:e,onChange:n})]})}e.default=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"My Phonebook"}),Object(v.jsx)(x,{}),Object(v.jsx)(_,{}),Object(v.jsx)(y,{})]})}}}]);
//# sourceMappingURL=contacts-view.26ee0889.chunk.js.map